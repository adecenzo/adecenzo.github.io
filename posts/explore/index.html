<!DOCTYPE html>
<html lang="en-us">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title> Hack the Box - Explore | Blog and stuff</title>
  <meta name="description" content="This page serves as a place to find my resume and what I have been doing. Mostly compromised of write ups about hack the box machines and programming, though there will be other content like electronic and blockchain development. Some of the write ups will cover basic and advanced pentesting and programming techniques. Please email me if you have questions regarding this page&#39;s content or professional inquiries.">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="robots" content="all,follow">
  <meta name="googlebot" content="index,follow,snippet,archive">
  <meta property="og:title" content="Hack the Box - Explore" />
<meta property="og:description" content="OSINT  Nmap  The following nmap command was executed
  nmap -sV -p- -o output explore.htb
  # Nmap 7.91 scan initiated Sun Jun 27 22:21:05 2021 as: nmap -sV -p- -o output explore.htb Nmap scan report for explore.htb (10.129.133.16) Host is up (0.040s latency). Not shown: 65530 closed ports PORT STATE SERVICE VERSION 2222/tcp open ssh (protocol 2.0) 5555/tcp filtered freeciv 35735/tcp open unknown 42135/tcp open http ES File Explorer Name Response httpd 59777/tcp open http Bukkit JSONAPI httpd for Minecraft game server 3." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://adecenzo.github.io/posts/explore/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-06-28T03:04:04-04:00" />
<meta property="article:modified_time" content="2021-06-28T03:04:04-04:00" />


  <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Hack the Box - Explore"/>
<meta name="twitter:description" content="OSINT  Nmap  The following nmap command was executed
  nmap -sV -p- -o output explore.htb
  # Nmap 7.91 scan initiated Sun Jun 27 22:21:05 2021 as: nmap -sV -p- -o output explore.htb Nmap scan report for explore.htb (10.129.133.16) Host is up (0.040s latency). Not shown: 65530 closed ports PORT STATE SERVICE VERSION 2222/tcp open ssh (protocol 2.0) 5555/tcp filtered freeciv 35735/tcp open unknown 42135/tcp open http ES File Explorer Name Response httpd 59777/tcp open http Bukkit JSONAPI httpd for Minecraft game server 3."/>

  
  
  
  <link rel="stylesheet" href="https://adecenzo.github.io/css/style-white.css">
  
  
  
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  

  
<link rel="icon" type="image/png" href="https://adecenzo.github.io/images/favicon.ico" />

  
  
</head>

<body class="max-width mx-auto px3 ltr">
  <div class="content index py4">

  <div id="header-post">
  <a id="menu-icon" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;" aria-label="Top of Page"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Writings</a></li>
         
        <li><a href="/tags">Tags</a></li>
         
        <li><a href="/about">About</a></li>
        
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        
        <li>
          <a class="icon" href="https://adecenzo.github.io/posts/thenotebook/" aria-label="Next">
            <i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i>
          </a>
        </li>
        
        <li>
          <a class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
            <i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i>
          </a>
        </li>
        <li>
          <a class="icon" href="#" aria-label="Share">
            <i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i>
          </a>
        </li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fadecenzo.github.io%2fposts%2fexplore%2f" aria-label="Facebook">
      <i class="fab fa-facebook " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fadecenzo.github.io%2fposts%2fexplore%2f&text=Hack%20the%20Box%20-%20Explore" aria-label="Twitter">
      <i class="fab fa-twitter " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fadecenzo.github.io%2fposts%2fexplore%2f&title=Hack%20the%20Box%20-%20Explore" aria-label="Linkedin">
      <i class="fab fa-linkedin " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fadecenzo.github.io%2fposts%2fexplore%2f&is_video=false&description=Hack%20the%20Box%20-%20Explore" aria-label="Pinterest">
      <i class="fab fa-pinterest " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Hack%20the%20Box%20-%20Explore&body=Check out this article: https%3a%2f%2fadecenzo.github.io%2fposts%2fexplore%2f" aria-label="Email">
      <i class="fas fa-envelope " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fadecenzo.github.io%2fposts%2fexplore%2f&title=Hack%20the%20Box%20-%20Explore" aria-label="Pocket">
      <i class="fab fa-get-pocket " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fadecenzo.github.io%2fposts%2fexplore%2f&title=Hack%20the%20Box%20-%20Explore" aria-label="reddit">
      <i class="fab fa-reddit " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fadecenzo.github.io%2fposts%2fexplore%2f&name=Hack%20the%20Box%20-%20Explore&description=OSINT%20%20Nmap%20%20The%20following%20nmap%20command%20was%20executed%0a%20%20nmap%20-sV%20-p-%20-o%20output%20explore.htb%0a%20%20%23%20Nmap%207.91%20scan%20initiated%20Sun%20Jun%2027%2022%3a21%3a05%202021%20as%3a%20nmap%20-sV%20-p-%20-o%20output%20explore.htb%20Nmap%20scan%20report%20for%20explore.htb%20%2810.129.133.16%29%20Host%20is%20up%20%280.040s%20latency%29.%20Not%20shown%3a%2065530%20closed%20ports%20PORT%20STATE%20SERVICE%20VERSION%202222%2ftcp%20open%20ssh%20%28protocol%202.0%29%205555%2ftcp%20filtered%20freeciv%2035735%2ftcp%20open%20unknown%2042135%2ftcp%20open%20http%20ES%20File%20Explorer%20Name%20Response%20httpd%2059777%2ftcp%20open%20http%20Bukkit%20JSONAPI%20httpd%20for%20Minecraft%20game%20server%203." aria-label="Tumblr">
      <i class="fab fa-tumblr " aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fadecenzo.github.io%2fposts%2fexplore%2f&t=Hack%20the%20Box%20-%20Explore" aria-label="Hacker News">
      <i class="fab fa-hacker-news " aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>
    <div id="toc">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#osint">OSINT</a></li>
    <li><a href="#exploitation">Exploitation</a></li>
    <li><a href="#user">User</a></li>
    <li><a href="#root">Root</a></li>
  </ul>
</nav>
    </div>
  </span>
</div>


  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header>
      <h1 class="posttitle" itemprop="name headline">
        Hack the Box - Explore
      </h1>
      <div class="meta">
        
        <div class="postdate">
          
          <time datetime="2021-06-28 03:04:04 -0400 EDT" itemprop="datePublished">2021-06-28</time>
          
        </div>
        
        
        
        
        <div class="article-tag">
            <i class="fas fa-tag"></i>
            
            
            <a class="tag-link" href="/tags/hackthebox" rel="tag">hackthebox</a>
            
             ,  
            <a class="tag-link" href="/tags/android" rel="tag">android</a>
            
             ,  
            <a class="tag-link" href="/tags/ssh" rel="tag">ssh</a>
            
             ,  
            <a class="tag-link" href="/tags/adb" rel="tag">adb</a>
            
        </div>
        
      </div>
    </header>

  
    <div class="content" itemprop="articleBody">
      <h2 id="osint">OSINT</h2>
<ul>
<li>Nmap</li>
</ul>
<p>The following nmap command was executed</p>
<blockquote>
<blockquote>
<p>nmap -sV -p- -o output explore.htb</p>
</blockquote>
</blockquote>
<pre><code># Nmap 7.91 scan initiated Sun Jun 27 22:21:05 2021 as: nmap -sV -p- -o output explore.htb
Nmap scan report for explore.htb (10.129.133.16)
Host is up (0.040s latency).
Not shown: 65530 closed ports
PORT      STATE    SERVICE VERSION
2222/tcp  open     ssh     (protocol 2.0)
5555/tcp  filtered freeciv
35735/tcp open     unknown
42135/tcp open     http    ES File Explorer Name Response httpd
59777/tcp open     http    Bukkit JSONAPI httpd for Minecraft game server 3.6.0 or older

</code></pre><p>Since the ports <strong>42135</strong> and <strong>59777</strong> were both a http service, I visited the webpages and but did
not provide any meaningful data. Because of this, I decided to google both of the http services to
find potential exploits and found a promising POC for the ES File Explorer.</p>
<h2 id="exploitation">Exploitation</h2>
<blockquote>
<blockquote>
<p><a href="https://github.com/fs0c131y/ESFileExplorerOpenPortVuln">https://github.com/fs0c131y/ESFileExplorerOpenPortVuln</a></p>
</blockquote>
</blockquote>
<p>I downloaded and ran the following command to find the files on the android device.</p>
<blockquote>
<blockquote>
<p>python poc.py &ndash;cmd listFiles &ndash;ip explore.htb</p>
</blockquote>
</blockquote>
<h2 id="user">User</h2>
<p>This command output gave us the files on android device. After some enumeration,
I found SSH credentials in the <em>//sdcard/DCIM/</em> directory.</p>
<p>The solution is simple, which is to SSH to the box with those credentials.</p>
<blockquote>
<blockquote>
<p>ssh -p 2222 <a href="mailto:kristi@explore.htb">kristi@explore.htb</a></p>
</blockquote>
</blockquote>
<h2 id="root">Root</h2>
<p>Privilege escalation is quite simple on this box. Refer to the nmap scan,
and we will see there is a service called <strong>freeciv</strong> running on port <strong>5555</strong>.
Freeciv is a game for phones, but if we consider the port in this context, we also
know the adb uses port 5555. After googling, there is a popular exploit to escalate
privileges this way.</p>
<p>We were unable to install anything as the kristi user, so I installed adb on
my local kali installation. I was unable to connect directly to the remote machine
with adb. To work around this, I forwarded the <strong>5555</strong> port from the remote machine to
my local machine by running the following command:</p>
<blockquote>
<blockquote>
<p>ssh -L 5555:127.0.0.1:5555 <a href="mailto:kristi@explore.htb">kristi@explore.htb</a> -p 2222</p>
</blockquote>
</blockquote>
<p>Since we can connect to the remote instance using adb now, I ran these commands:</p>
<blockquote>
<blockquote>
<p>adb connect localhost:5555
adb shell</p>
</blockquote>
</blockquote>
<p>Login as root using the <strong>su</strong> command. Find the root flag in the <em>data</em> directory.</p>

    </div>
  </article>

  
  





  <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/posts">Writings</a></li>
         
          <li><a href="/tags">Tags</a></li>
         
          <li><a href="/about">About</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <nav id="TableOfContents">
  <ul>
    <li><a href="#osint">OSINT</a></li>
    <li><a href="#exploitation">Exploitation</a></li>
    <li><a href="#user">User</a></li>
    <li><a href="#root">Root</a></li>
  </ul>
</nav>
    </div>

    <div id="share-footer" style="display: none">
      
      <ul>
  
  
    
  
  
  <li>
    <a class="icon" href="http://www.facebook.com/sharer.php?u=https%3a%2f%2fadecenzo.github.io%2fposts%2fexplore%2f" aria-label="Facebook">
      <i class="fab fa-facebook fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://twitter.com/share?url=https%3a%2f%2fadecenzo.github.io%2fposts%2fexplore%2f&text=Hack%20the%20Box%20-%20Explore" aria-label="Twitter">
      <i class="fab fa-twitter fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.linkedin.com/shareArticle?url=https%3a%2f%2fadecenzo.github.io%2fposts%2fexplore%2f&title=Hack%20the%20Box%20-%20Explore" aria-label="Linkedin">
      <i class="fab fa-linkedin fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://pinterest.com/pin/create/bookmarklet/?url=https%3a%2f%2fadecenzo.github.io%2fposts%2fexplore%2f&is_video=false&description=Hack%20the%20Box%20-%20Explore" aria-label="Pinterest">
      <i class="fab fa-pinterest fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="mailto:?subject=Hack%20the%20Box%20-%20Explore&body=Check out this article: https%3a%2f%2fadecenzo.github.io%2fposts%2fexplore%2f" aria-label="Email">
      <i class="fas fa-envelope fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://getpocket.com/save?url=https%3a%2f%2fadecenzo.github.io%2fposts%2fexplore%2f&title=Hack%20the%20Box%20-%20Explore" aria-label="Pocket">
      <i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://reddit.com/submit?url=https%3a%2f%2fadecenzo.github.io%2fposts%2fexplore%2f&title=Hack%20the%20Box%20-%20Explore" aria-label="reddit">
      <i class="fab fa-reddit fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="http://www.tumblr.com/share/link?url=https%3a%2f%2fadecenzo.github.io%2fposts%2fexplore%2f&name=Hack%20the%20Box%20-%20Explore&description=OSINT%20%20Nmap%20%20The%20following%20nmap%20command%20was%20executed%0a%20%20nmap%20-sV%20-p-%20-o%20output%20explore.htb%0a%20%20%23%20Nmap%207.91%20scan%20initiated%20Sun%20Jun%2027%2022%3a21%3a05%202021%20as%3a%20nmap%20-sV%20-p-%20-o%20output%20explore.htb%20Nmap%20scan%20report%20for%20explore.htb%20%2810.129.133.16%29%20Host%20is%20up%20%280.040s%20latency%29.%20Not%20shown%3a%2065530%20closed%20ports%20PORT%20STATE%20SERVICE%20VERSION%202222%2ftcp%20open%20ssh%20%28protocol%202.0%29%205555%2ftcp%20filtered%20freeciv%2035735%2ftcp%20open%20unknown%2042135%2ftcp%20open%20http%20ES%20File%20Explorer%20Name%20Response%20httpd%2059777%2ftcp%20open%20http%20Bukkit%20JSONAPI%20httpd%20for%20Minecraft%20game%20server%203." aria-label="Tumblr">
      <i class="fab fa-tumblr fa-lg" aria-hidden="true"></i>
    </a>
  </li>
  <li>
    <a class="icon" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fadecenzo.github.io%2fposts%2fexplore%2f&t=Hack%20the%20Box%20-%20Explore" aria-label="Hacker News">
      <i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i>
    </a>
  </li>
</ul>

    </div>

    <div id="actions-footer">
      
        <a id="menu-toggle" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;" aria-label="Menu">
          <i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc-toggle" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;" aria-label="TOC">
          <i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share-toggle" class="icon" href="#" onclick="$('#share-footer').toggle();return false;" aria-label="Share">
          <i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" aria-label="Top of Page">
          <i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>


  <footer id="footer">
  <div class="footer-left">
    Copyright  &copy; 2021  Blog and stuff 
  </div>
  <div class="footer-right">
    <nav>
      <ul>
         
        <li><a href="/">Home</a></li>
         
        <li><a href="/posts">Writings</a></li>
         
        <li><a href="/tags">Tags</a></li>
         
        <li><a href="/about">About</a></li>
        
      </ul>
    </nav>
  </div>
</footer>


  </div>
</body>

<link rel="stylesheet" href=/lib/font-awesome/css/all.min.css>
<script src=/lib/jquery/jquery.min.js></script>
<script src=/js/main.js></script>



</html>
